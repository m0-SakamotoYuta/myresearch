# ロボット試験データを用いた股関節動作の可視化ツール

本リポジトリは、股関節力学試験ロボットシステムで得られた動作データと、3Dスキャン（またはCTデータ）から生成した骨モデルを用いて、力学試験中の股関節の運動を可視化するPythonプログラムを収録しています。

ヒト股関節の生体試料に対して行った力学試験の動作ログを入力することで、試験中の骨運動を3Dモデルとして再現し、動画として出力することが可能です。  
これにより、骨間接触や運動軌跡などの運動学的パラメータを定量的に評価できます。

本プログラムは、大学における研究活動の一環として開発され、ロボティクスおよびバイオメカニクス分野への応用を想定しています。

---

## 📁 ディレクトリ構成

```
myresearch/
├── scripts/                  # Pythonスクリプト（ver.2含む）
│   └── BoneModel_HipTestSimulation_2.py
├── data/                     # 入力データ
│   ├── fe.asc                # 大腿骨3Dモデルの点群データ
│   ├── fe.pp                 # 大腿骨の特徴点座標（座標系構築に必要）
│   ├── pv.asc                # 骨盤3Dモデルの点群データ
│   ├── pv.pp                 # 骨盤の特徴点座標（座標系構築に必要）
│   └── test-moving.xlsx      # ロボットの動作データ
└── README.md
```

---

## 🧪 使用技術・環境

- Python 3.x  
- NumPy  
- Open3D  
- macOS（開発環境）

---

## 🚀 実行方法

1. スクリプトを実行  

2. ファイルを以下の順に選択（ダイアログが順番に表示されます）  
   1. `fe.asc`  
   2. `fe.pp`  
   3. `pv.asc`  
   4. `pv.pp`  
   5. `test-moving.xlsx`

3. `auto` または `manual` を選択  
4. 骨の動きが Open3D のウィンドウ上に表示されます

---

## 📝 バージョン履歴

- **ver.2.0**（2025-06-20）  
  - manualモードのバグを修正

- **ver.1.0**（2025-06-20）  
  - 初期版

---

## 📌 備考

このプログラムは研究・学習目的で公開しており、精度や汎用性は保証していません。
